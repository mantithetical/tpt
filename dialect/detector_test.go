package dialect

import (
  "testing"
  "strings"
)

var elevenWords = "<html><head><title>I am 17 and color-blind but full of" +
  " humour"
var longText = `Welcome to the TACO TRUCK business! More and more food trucks
are becoming high priorities in the eating world.  Whether it’s a lunch crowd or a spot by a concert, food trucks are in high demand. Plus, the food isn’t just good...it’s great. Now students can create their own business using math skills (decimals, area, and perimeter) to make taco trucks become a reality. This'll be supreme!\n\n<strong>Run A Taco Truck</strong> is a project based learning activity that puts all the job responsibilities in the hands of the students. This project based learning activity focuses on pushing students to create and design while using math skills, applying problem solving techniques, and collaborating with others. It allows for easy differentiation, so students can work at a pace they will be successful at. There are steps and procedures to assist students through this project, but the work and results will be determined by their ideas that each students adds.\n\nWith this resource students WILL CREATE a personalized taco menu and miniature 3D version of a taco truck, along with a business they can call their own.  By the end of this project each student will create an absolutely unique business based on their own ideas, imagination, and application of skills. No two taco trucks will be the same.\n\n<strong>The project is broken into three sections:</strong>\n\n1. START- UP: Create and Design the business from scratch. \nThe project begins by throwing students into the start-up world of running a business.\nStudents will create a restaurant title, design logos, and create important marketing options to help make the business visible.These design elements will be used in future sections including the menu, food truck.\n\n2. THE MENU:  Focuses on DECIMALS, FINDING TOTALS, and MORE.\nStudents will build their menu for creating the ultimate tacos. This includes picking shell types, condiments, meats or veggies, and anything else. The menu will be completely individualized based on student choices. As students create their menu they will price all items. YOU (the teacher) have the option of including decimals or not, based on where your students are. Once the menu is complete, students will fill complete orders from other students, which includes finding total prices for each taco/purchase order.\n\nAn EXAMPLE of the to-do list for this section includes:\nFirst:     Directions\t\nRead ALL the directions! Not just for the first page, but for EVERY page.\n\nSecond:\tBRAINSTORM\t\nList food options that could be on your menu.  Work with classmates, do research, and find some unique foods to add.\n\nThird:\tPICK THE MENU\t\nMake your final food decisions and begin creating your menu with the four KEY areas. Include prices for every single item.\n\nFourth:  \tBUILDING TACOS\t\nYou will be making three different tacos, each with more ingredients added.  Then you will find the total cost of each.  \n\nFifth:\tDESIGNER TACOS\t\nCreate two DESIGNER Tacos. These tacos will each have at least EIGHT ingredients. Give them a name and find their total price.\n\nSixth:\tTAKING ORDERS\t\nClassmates will stop by your taco truck menu and order. \nYou will need to find the total price for the tacos they ordered. \n\nSeventh:\tDesign the Menu\t\nOPTIONAL: Design a menu with EVERY SINGLE ITEM on it-- with prices.\nYou may use the provided papers or create your own version.\n\n3. BUILD THE TRUCK: Create a 3D taco truck, focuses on AREA and PERIMETER.\nStudents will design a 3D model of their taco truck using properties of area/perimeter/geometry. This includes step by step instructions for designing the interior of the truck. Students also have the option of adding in 3D items inside the trucks (if time permits).\n\n\n<strong>INCLUDED IN THIS RESOURCE:</strong>\n6\tAbout this Resource &amp; Instructions\n9\tCover Page &amp; Intro\n11\t<strong>Section One: Start-Up</strong>\n12\tBusiness Name, Logo &amp; Design  (two versions to choose from)\n14\tSlogans, Hours, and Problems You Could Face\n15\t<strong>Section Two: Making the Menu</strong>\n17\tBrainstorm\n18\tPicking the Menu and Pricing\n20\tBuilding Tacos (decimals)\n21\tDesigner Tacos (adding with decimals)\n22\tTaking Student Orders (students find totals and costs)\n27\tTaking Orders, Secret Menu\n30\tDesign the Menu\n36\t<strong>Section Three, Building the Truck</strong>\n41\tRough Draft\n42\tFinal Version\n46\tTaco Truck Size, Area and Perimeter\n49\tBuilding Appliances and Furniture\n52\tExterior and Extras\n54\tTeacher Rubrics and Student Reflections\n58\tVisuals for creating the taco truck\n70    Extra sheets that don't include decimals (these can replace sheets in THE MENU\n\n<strong>Run A Taco Truck</strong> pushes students to create a viable business that includes three individual sections; start-up, the menu, and the truck. These three sections, when connected, allow for students to apply multitude of skills and concepts into a project that connects with the world around us. A few of these skills (but not limited to) involve decimals, money, area, and perimeter.  This project also allows students to work within their own learning levels to create a project that is entirely unique.\n\nThis PBL activity focuses on the real-world application of math concepts used in building and designing businesses, while practicing problem-solving skills (which are one of the most sought after skills in the work force today), collaboration, and using their imagination.\n\nMaterials Needed:\n-computer paper\n-card stock (optional for the \n house building)\n-crayons and colored pencils\n-scissors\n-tape and glue\n\nMeasuring Units (truck):\nThe measurement used for this project will be a single unit per cube. You may choose to increase complexity by making each cube worth more.  Use this with students to easily differentiate.\nExample: 1 square = 3 units   or  1 square = 5 units\nThere are no feet, yard, or meters.\n\nOptional Materials:\n-books or magazines on food trucks \n-videos that show food trucks\n-videos on running a business, money aspect\n-menus from restaurants\n\nTime Frame:\nThe time frame for completing this project will vary. If you are planning on completing it in a week, give 45-60 minutes per day--but it still could take longer.\n \nTime can vary based on many factors.  One area that may take longer is creating the truck.  Once students understand how it works, they might want to try and take them to another level (which is encouraged).\n\nEncourage Creativity\nPush your students to try new ideas.  At the beginning they may be hesitant, but encourage them to try new ideas. There are unlimited options in the project.\n\n\n\n\n<strong><span>See More Projects in my custom category: </span></strong><br /><strong><a href=\"https://www.teacherspayteachers.com/Store/Digital-Divide-And-Conquer/Category/-PROJECT-BASED-LEARNING-153355/Order:Most-Recently-Posted\"><span>PROJECT BASED LEARNING</span></a></strong><br /><span><br /></span>\n<strong><span>MORE LIKE THIS:</span></strong><br /><a href=\"http://www.teacherspayteachers.com/Product/Zoo-Design-Area-Perimeter-Map-Skills-Project-Based-Learning-More-878489\"><span>ZOO DESIGN: Area, Perimeter, Map Skills, Project Based Learning, &amp; More!</span></a><br /><a href=\"http://www.teacherspayteachers.com/Product/The-Island-Project-Based-Learning-for-Writing-Math-Reading-Science-SS-1110087\"><span>THE ISLAND: Project Based Learning for Writing, Math, Reading, Science, &amp; SS</span></a><br /><a href=\"http://www.teacherspayteachers.com/Product/GEOMETROCITY-Create-Build-a-City-Made-of-Math-Using-Geometry-1339693\"><span>GEOMETROCITY: Create &amp; Build a City Made of Math Using Geometry</span></a><br /><a href=\"https://www.teacherspayteachers.com/Product/Project-Based-Learning-for-Science-Math-ELA-Final-Frontier-3-Part-Project-2036483\"><span>FINAL FRONTIER, 3 part project: ELA, Math, Science</span></a><br /><a href=\"https://www.teacherspayteachers.com/Product/Build-A-Tiny-House-Project-Based-Learning-Activity-A-PBL-2801364\"><span>BUILD A TINY HOUSE: Project Based Learning Activity with Geometry, Area, and Perimeter</span></a><br /><span><a href=\"https://www.teacherspayteachers.com/Product/Project-Based-Learning-Obstacle-Race-Course-with-Area-and-Perimeter-PBL-2890697\">DESIGN AN OBSTACLE RACE COURSE with Area and Perimeter</a></span><br /><a href=\"https://www.teacherspayteachers.com/Product/Run-A-Taco-Truck-A-Project-Based-Learning-Activity-PBL-2939135\"><span>RUN A TACO TRUCK: Decimals, Area, Perimeter, Geometry, and Guacamole</span></a><br /><span><a href=\"https://www.teacherspayteachers.com/Product/Produce-A-TV-Show-A-Project-Based-Learning-Activity-PBL-3068906\">PRODUCE A TV SHOW: Development, Script Writing, and Build a TV Set</a></span><br /><a href=\"https://www.teacherspayteachers.com/Product/Building-My-Block-A-Project-Based-Learning-Activity-PBL-3218111\"><span>BUILDING MY BLOCK: Your Neighborhood PBL for Math and ELA</span></a><br /><a href=\"https://www.teacherspayteachers.com/Product/Treehouse-Construction-A-Project-Based-Learning-Activity-PBL-3233509\"><span>TREEHOUSE CONSTRUCTION: Design Your Dream House In the Trees, A PBL</span></a><br /><span><br /></span>\n<a href=\"https://www.teacherspayteachers.com/Product/Project-Based-Learning-Activity-Bundle-10-Pack-1984696\"><span>Project Based Learning 10-PACK BUNDLE</span></a><br /><a href=\"https://www.teacherspayteachers.com/Product/Build-A-Ski-Resort-A-Project-Based-Learning-Activity-for-Math-ELA-and-More-1628086\"><span>Project Based Learning, Build a Ski Resort</span></a><br /><a href=\"https://www.teacherspayteachers.com/Product/Design-A-School-Library-Project-Based-Learning-Design-Plan-Create-1843467\"><span>Project Based Learning, Design a School Library</span></a><br /><a href=\"https://www.teacherspayteachers.com/Product/Design-A-Water-Park-Project-Based-Learning-Design-Plan-Create-1983666\"><span>Project Based Learning, Design a Water Park</span></a><br /><a href=\"https://www.teacherspayteachers.com/Product/Discovery-in-the-Rainforest-A-Project-Based-Learning-Activity-1659290\"><span>Project Based Learning, Discovery In the Rainforest</span></a><br /><a href=\"https://www.teacherspayteachers.com/Product/Earth-Day-Invention-A-Project-Based-Learning-Activity-1815836\"><span>Project Based Learning, Earth Day Invention</span></a><br /><a href=\"https://www.teacherspayteachers.com/Product/Running-A-Lemonade-Stand-Project-Based-Learning-with-Math-ELA-and-More-1757445\"><span>Project Based Learning, Running A Lemonade Stand</span></a><br /><a href=\"https://www.teacherspayteachers.com/Product/Save-Christmas-A-Holiday-Themed-Project-Based-Learning-Activity-1598946\"><span>Project Based Learning, Save Christmas</span></a><br /><a href=\"https://www.teacherspayteachers.com/Product/Shark-Security-Force-Project-Based-Learning-Design-Sharks-to-Save-the-Oceans-1938230\"><span>Project Based Learning, Shark Security Force</span></a><br /><a href=\"https://www.teacherspayteachers.com/Product/Snake-Search-Project-Based-Learning-Research-Explore-Slither-1766967\"><span>Project Based Learning, Snake Search: Around the World</span></a><br /><a href=\"https://www.teacherspayteachers.com/Product/Valentines-Day-Party-Planner-A-Project-Based-Learning-Activity-1685717\"><span>Project Based Learning, Valentine’s Day Party Planner</span></a><br /><span><br /></span>\n<a href=\"https://www.teacherspayteachers.com/Product/Project-Based-Learning-Activity-Bundle-10-Pack-Part-2-2392788\"><span>Project Based Learning 10-PACK BUNDLE, PART 2</span></a><br /><span><a href=\"https://www.teacherspayteachers.com/Product/Project-Based-Learning-Activity-Plan-A-School-Party-2366857\">Project Based Learning Activity: Plan a School Party</a></span><br /><span><a href=\"https://www.teacherspayteachers.com/Product/Project-Based-Learning-for-ELA-Science-and-Design-Bats-2077011\">Project Based Learning Activity: All About Bats</a></span><br /><span><a href=\"https://www.teacherspayteachers.com/Product/Project-Based-Learning-Activity-Arctic-Adventure-2316374\">Project Based Learning Activity: Arctic Adventure</a></span><br /><span><a href=\"https://www.teacherspayteachers.com/Product/Build-Your-Own-Field-Day-Project-Based-Learning-Design-Plan-Create-1979127\">Project Based Learning Activity: Plan a Field Day</a></span><br /><span><a href=\"https://www.teacherspayteachers.com/Product/Project-Based-Learning-Activity-President-For-The-Week-2298749\">Project Based Learning Activity: President For A Week</a></span><br /><span><a href=\"https://www.teacherspayteachers.com/Product/Project-Based-Learning-Activity-Run-A-Toy-Drive-2249835\">Project Based Learning Activity: Run A Toy Drive</a></span><br /><span><a href=\"https://www.teacherspayteachers.com/Product/Project-Based-Learning-Activity-Plan-Thanksgiving-Dinner-2195226\">Project Based Learning Activity: Plan Thanksgiving Dinner</a></span><br /><span><a href=\"https://www.teacherspayteachers.com/Product/Project-Based-Learning-Activity-Lets-Go-Camping-2180084\">Project Based Learning Activity: Let's Go Camping</a></span><br /><span><a href=\"https://www.teacherspayteachers.com/Product/Project-Based-Learning-Activity-Monster-Squad-2117297\">Project Based Learning Activity: Monster Squad</a></span><br /><span><a href=\"https://www.teacherspayteachers.com/Product/Project-Based-Learning-Activity-Island-Survival-2392613\">Project Based Learning Activity: Island Survival</a></span><br /><span><br /></span>\n<a href=\"https://www.teacherspayteachers.com/Product/Project-Based-Learning-Activity-Bundle-10-Pack-Part-3-2729952\"><span>Project Based Learning 10-PACK BUNDLE, PART 3</span></a><br /><span><a href=\"https://www.teacherspayteachers.com/Product/Project-Based-Learning-Activity-Create-A-Classroom-Community-2676450\">Project Based Learning Activity: Create A Classroom Community</a></span><br /><span><a href=\"https://www.teacherspayteachers.com/Product/Project-Based-Learning-Activity-Design-A-Video-Game-2494520\">Project Based Learning Activity: Design A Video Game</a></span><br /><span><a href=\"https://www.teacherspayteachers.com/Product/Project-Based-Learning-Activity-Alive-in-the-Desert-2660467\">Project Based Learning Activity: Alive In The Desert</a></span><br /><span><a href=\"https://www.teacherspayteachers.com/Product/Project-Based-Learning-Activity-Endangered-Animal-Awareness-Build-An-App-2494836\">Project Based Learning Activity: Endangered Animal Awareness</a></span><br /><span><a href=\"https://www.teacherspayteachers.com/Product/Project-Based-Learning-Activity-Habitats-Around-the-World-Build-An-App-2532527\">Project Based Learning Activity: Habitats Around The World</a></span><br /><span><a href=\"https://www.teacherspayteachers.com/Product/Project-Based-Learning-Activity-Design-A-Mini-Golf-Course-2688053\">Project Based Learning Activity: Design A Miniature Golf Course</a></span><br /><span><a href=\"https://www.teacherspayteachers.com/Product/Project-Based-Learning-Activity-Run-A-Music-Festival-2720326\">Project Based Learning Activity: Run A Music Festival</a></span><br /><span><a href=\"https://www.teacherspayteachers.com/Product/Project-Based-Learning-Activity-Design-The-Ultimate-Playground-2717895\">Project Based Learning Activity: The Ultimate Playground</a></span><br /><span><a href=\"https://www.teacherspayteachers.com/Product/Project-Based-Learning-Activity-Design-A-Theme-Park-2612226\">Project Based Learning Activity: Design A Theme Park</a></span><br /><span><a href=\"https://www.teacherspayteachers.com/Product/Project-Based-Learning-Activity-Water-World-Save-the-Earth-2494764\">Project Based Learning Activity: Water World, Save the Earth</a></span><br /><br /><span><a href=\"https://www.teacherspayteachers.com/Product/Project-Based-Learning-Activity-Bundle-10-Pack-Part-4-PBL-3302217\">Project Based Learning 10-PACK BUNDLE, PART 4</a> </span><br /><a href=\"https://www.teacherspayteachers.com/Product/Project-Based-Learning-Activity-Infestation-Insects-and-Bugs-PBL-3015086\"><span>Project Based Learning Activity: Insect Infestation</span></a><br /><a href=\"https://www.teacherspayteachers.com/Product/Project-Based-Learning-Activity-Into-The-Wilderness-PBL-3025733\"><span>Project Based Learning Activity: Into the Wilderness</span></a><br /><a href=\"https://www.teacherspayteachers.com/Product/Project-Based-Learning-Activity-Run-An-Animal-Shelter-PBL-2952464\"><span>Project Based Learning Activity: The Animal Shelter</span></a><br /><a href=\"https://www.teacherspayteachers.com/Product/Project-Based-Learning-Activity-Make-Your-Mindset-PBL-2988737\"><span>Project Based Learning Activity: Making Your Mindset</span></a><br /><span><a href=\"https://www.teacherspayteachers.com/Product/Project-Based-Learning-Activity-Cardboard-Creation-3111233\">Project Based Learning Activity: Cardboard Creation </a></span><br /><span><a href=\"https://www.teacherspayteachers.com/Product/Project-Based-Learning-Activity-Bears-Everywhere-a-PBL-3128119\">Project Based Learning Activity: Bears Everywhere </a></span><br /><span><a href=\"https://www.teacherspayteachers.com/Product/Design-An-Arcade-A-Project-Based-Learning-Activity-PBL-3236400\">Project Based Learning Activity: Design An Arcade</a> </span><br /><span><a href=\"https://www.teacherspayteachers.com/Product/Create-A-Summer-Camp-A-Project-Based-Learning-Activity-PBL-3233743\">Project Based Learning Activity: Create A Summer Camp </a></span><br /><span><a href=\"https://www.teacherspayteachers.com/Product/Plan-A-Vacation-A-Project-Based-Learning-Activity-PBL-3298102\">Project Based Learning Activity: Plan A Vacation</a> </span><br /><a href=\"https://www.teacherspayteachers.com/Product/Design-A-Treehouse-A-Project-Based-Learning-Activity-PBL-3297416\"><span>Project Based Learning Activity: </span><span>Design A Treehouse</span></a><br /><span><br /></span>\n<span>GRAB A BUNDLE:</span><br /><a href=\"https://www.teacherspayteachers.com/Product/Project-Based-Learning-Activity-Bundle-10-Pack-1984696\"><span>Project Based Learning 10-PACK BUNDLE</span></a><br /><a href=\"https://www.teacherspayteachers.com/Product/Project-Based-Learning-Activity-Bundle-10-Pack-Part-2-2392788\"><span>Project Based Learning 10-PACK BUNDLE, PART 2</span></a><br /><span><a href=\"https://www.teacherspayteachers.com/Product/Project-Based-Learning-Activity-Bundle-10-Pack-Part-3-2729952\">Project Based Learning 10-PACK BUNDLE, PART 3</a></span><br /><a href=\"https://www.teacherspayteachers.com/Product/Project-Based-Learning-Activity-Bundle-10-Pack-Part-4-PBL-3302217\">Project Based Learning 10-PACK BUNDLE, PART 4</a> <br />`


var c Corpus = Corpus{map[string]bool{
    "color" : true,
    "flavor" : true,
    "humor" : true,
    "labor" : true,
    "center" : true,
    "fiber" : true,
    "liter" : true,
    "theater" : true,
    "analyse" : true,
    "defense" : true,
    "license" : true,
    "offense" : true,
    "pretense" : true,
    "analog" : true,
    "catalog" : true,
    "dialog" : true,
  }, map[string]bool{
    "colour" : true,
    "flavour" : true,
    "humour" : true,
    "labour" : true,
    "centre" : true,
    "fibre" : true,
    "litre" : true,
    "organise" : true,
    "recognise" : true,
    "analyse" : true,
    "defence" : true,
    "licence" : true,
    "offence" : true,
    "pretence" : true,
  },
}

const (
  BRITISH = "British English"
  AMERICAN = "American English"
  UNKNOWN = "Unknown"
  MIXED = "Mixed British and American English"
)

var d = NaiveDetector{c}

func TestSanitze1(t *testing.T) {
  w1 := make(map[string]bool)
  santize(elevenWords, &w1)
  if len(w1) != 11 {
    t.Error("elevenWords does not contain 11 words")
  }

  if !contains("-", &w1) {
    t.Error("- NOT found")
  }

}

func TestSanitze2(t *testing.T) {
  w := make(map[string]bool)
  santize(longText, &w)
  if contains("<", &w) {
    t.Error("< found")
  }

  if contains("10", &w) {
    t.Error("10 found")
  }
}

func TestSanitzePlurals(t *testing.T) {
  w := make(map[string]bool)
  santize("Ben & Jerry's has many flavors", &w)
  if !contains("flavor", &w) {
    t.Error("flavor not found")
  }
}

func TestNaiveDetector_CategorizeBritish(t *testing.T) {
  if !isBritish(d.Categorize(Product{longText, "1", elevenWords})) {
    t.Error("Miscategorized `humour`")
  }
}

func TestNaiveDetector_CategorizeAmerican(t *testing.T) {
  if !isAmerican(d.Categorize(Product{"He has a sense of humor", "1",
  "Color"})) {
    t.Error("Miscategorized `humor`")
  }
}

func TestNaiveDetector_CategorizeMixed(t *testing.T) {
  if !isMixed(d.Categorize(
    Product{"He has a sense of humour and loves theater",
  "1",
    "Boring"})) {
    t.Error("Miscategorized Mixed Type")
  }
}

func TestNaiveDetector_CategorizeUnknown(t *testing.T) {
  if strings.TrimSpace(d.Categorize(
    Product{"This sentence is dialect-neutral",
      "1",
      "Neutral"})) != UNKNOWN {
    t.Error("Miscategorized Unknown Type")
  }
}

func contains(s string, santized *map[string]bool) bool {
  for w, _ := range *santized {
    if strings.ContainsAny(w, s) {
      return true
    }
  }
  return false
}

func isAmerican(s string) bool {
  return strings.Contains(s, AMERICAN) && !strings.Contains(s, MIXED)
}

func isBritish(s string) bool {
  return strings.Contains(s, BRITISH) && !strings.Contains(s, MIXED)
}

func isMixed(s string) bool {
  return strings.Contains(s, MIXED)
}